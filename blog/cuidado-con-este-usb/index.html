<!doctype html><html lang=en data-bs-theme=dark><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preload href=/fonts/vendor/jost/jost-v4-latin-regular.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/vendor/jost/jost-v4-latin-500.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/vendor/jost/jost-v4-latin-700.woff2 as=font type=font/woff2 crossorigin><script src=/js/dismissable-alert.ecfe60f33522da00acae2a7c5195ae0237f6bf736d4c295a83700bdbcb4d0263.js integrity="sha256-7P5g8zUi2gCsrip8UZWuAjf2v3NtTClag3AL28tNAmM="></script><link rel=stylesheet href="/main.883c8aecff640802dcaeb5865c3a7db8035e934e06a3576f5b56070225fe4035ff2bbfad0962b13fb102fd917cacd01f4545dd09488a1ef2003b02243d4ea592.css" integrity="sha512-iDyK7P9kCALcrrWGXDp9uANek04Go1dvW1YHAiX+QDX/K7+tCWKxP7EC/ZF8rNAfRUXdCUiKHvIAOwIkPU6lkg==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><link rel=canonical href=/blog/cuidado-con-este-usb/><title>¡Cuidado con este USB! | d3bo</title><meta name=description content><meta property="og:title" content="¡Cuidado con este USB!"><meta property="og:description" content="Rubber ducky es un pendrive con unas características especiales, a diferencia de un pendrive normal en el que puedes guardar archivos, fotos, etc. El Rubber Ducky, es un dispositivo que inyecta pulsaciones de teclas previamente definidas."><meta property="og:type" content="article"><meta property="og:url" content="/blog/cuidado-con-este-usb/"><meta property="og:image" content="/blog/cuidado-con-este-usb/cover.jpg"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-12-05T00:00:00+00:00"><meta property="article:modified_time" content="2022-12-05T00:00:00+00:00"><meta property="og:site_name" content="d3b0o"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/blog/cuidado-con-este-usb/cover.jpg"><meta name=twitter:title content="¡Cuidado con este USB!"><meta name=twitter:description content="Rubber ducky es un pendrive con unas características especiales, a diferencia de un pendrive normal en el que puedes guardar archivos, fotos, etc. El Rubber Ducky, es un dispositivo que inyecta pulsaciones de teclas previamente definidas."><meta name=twitter:site content="@getdoks"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"/","name":"D3bo","position":1},{"@type":"ListItem","item":"/blog/","name":"Blog","position":2},{"@type":"ListItem","name":"¡ Cuidado Con Este Usb!","position":3}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"BlogPosting","headline":"¡Cuidado con este USB!","description":"","isPartOf":{"@id":"/blog/cuidado-con-este-usb/"},"mainEntityOfPage":{"@id":"/blog/cuidado-con-este-usb/"},"datePublished":"2022-12-05T00:00:00+00:00","dateModified":"2022-12-05T00:00:00+00:00","image":[{"@id":"/blog/cuidado-con-este-usb/cover.jpg"},{"@id":"/blog/cuidado-con-este-usb/images/1.jpg"},{"@id":"/blog/cuidado-con-este-usb/images/2.jpg"},{"@id":"/blog/cuidado-con-este-usb/images/helloworld.png"},{"@id":"/blog/cuidado-con-este-usb/images/interiorruberducky.png"},{"@id":"/blog/cuidado-con-este-usb/images/jsencoder.png"},{"@id":"/blog/cuidado-con-este-usb/images/language.png"},{"@id":"/blog/cuidado-con-este-usb/images/mrrobot.png"},{"@id":"/blog/cuidado-con-este-usb/images/ruberducky-black.jpg"},{"@id":"/blog/cuidado-con-este-usb/images/ruberducky-white.png"},{"@id":"/blog/cuidado-con-este-usb/images/usb.jpg"}],"author":{"@type":"Organization","name":"Hyas","url":"/"},"publisher":{"@type":"Organization","name":"Hyas"}}]}</script><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1877012045454778" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-850CS210Y8"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-850CS210Y8")</script></head><body class="single section blog" data-bs-spy=scroll data-bs-target=#toc data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll=true tabindex=0><div id=vanta-bg style=position:absolute;width:100%;height:100%;z-index:-1></div><div id=announcement data-id=global-alert-ed321576fabf52d76f925272710cb364 class="alert alert-primary alert-dismissible fade show text-center" role=alert><span class=alert-text>¡Nuevo writeup de la máquina "<a href=/writeups/hackthebox/unobtainium>Unobtainium</a>" de HackTheBox!</span>
<button type=button class=btn-close data-bs-dismiss=alert aria-label=Close></button></div><div class=sticky-top><div class=header-bar></div><header class="navbar navbar-expand-lg"><div class=container-lg><a class="navbar-brand me-auto me-lg-3" href=/>d3bo</a>
<button type=button id=searchToggleMobile class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg></button>
<button class="btn btn-link nav-link mx-2 order-3 d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasNavMain aria-controls=offcanvasNavMain aria-label="Open main navigation menu"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="8" x2="20" y2="8"/><line x1="4" y1="16" x2="20" y2="16"/></svg></button><div class="offcanvas offcanvas-end h-auto" tabindex=-1 id=offcanvasNavMain aria-labelledby=offcanvasNavMainLabel><div class="header-bar d-lg-none"></div><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasNavMainLabel>d3bo</h5><button type=button class="btn btn-link nav-link p-0" data-bs-dismiss=offcanvas aria-label=Close><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6 6 18"/><path d="M6 6l12 12"/></svg></button></div><div class="offcanvas-body d-flex flex-column flex-lg-row justify-content-between"><ul class="navbar-nav flex-grow-1"><li class=nav-item><a class="nav-link active" href=/blog/ aria-current=true>Blog</a></li><li class=nav-item><a class=nav-link href=/writeups/intro/bienvenido/>Writeups</a></li><li class=nav-item><a class=nav-link href=/ctf/intro/bienvenido/>CTF</a></li></ul><button type=button id=searchToggleDesktop class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg></button><ul id=socialMenu class="nav mx-auto flex-row order-lg-4"><li class=nav-item><a class="nav-link social-link" href=https://x.com/sr_d3b0o><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4l11.733 16H20L8.267 4z"/><path d="M4 20l6.768-6.768m2.46-2.46L20 4"/></svg><small class="ms-2 visually-hidden">Twitter</small></a></li><li class=nav-item><a class="nav-link social-link" href=https://github.com/d3b0o><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg><small class="ms-2 visually-hidden">GitHub</small></a></li></ul><a class="btn btn-primary rounded-pill mt-2 btn-block d-lg-none" href=https://www.buymeacoffee.com/d3b0o role=button>Support</a></div></div><a class="btn btn-primary rounded-pill ms-3 me-2 px-4 order-lg-3 d-none d-lg-block" href=https://www.buymeacoffee.com/d3b0o role=button>Support</a></div></header></div><div class=modal id=searchModal tabindex=-1 aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down"><div class=modal-content><div class=modal-header><h1 class="modal-title fs-5 visually-hidden" id=searchModalLabel>Search</h1><button type=button class="btn-close visually-hidden" data-bs-dismiss=modal aria-label=Close></button><div class="search-input flex-grow-1 d-none"><form id=search-form class=search-form action=# method=post accept-charset=utf-8 role=search><label for=query class=visually-hidden>Search</label><div class=d-flex><input type=search id=query name=query class="search-text form-control form-control-lg" placeholder=Search aria-label=Search maxlength=128 autocomplete=off>
<button type=button class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss=modal aria-label=Close>Cancel</button></div></form></div></div><div class=modal-body><p class="search-loading status message d-none mt-3 text-center">Loading search index…</p><p class="search-no-recent message d-none mt-3 text-center">No recent searches</p><p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class=query-no-results>Query here</span></strong>"</p><div id=searchResults class=search-results></div><template><article class="search-result list-view"><div class="card my-3"><div class=card-body><header><h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href=#>Title here</a></h2><div class=submitted><time class=created-date>Date here</time></div></header><div class="content d-none">Summary here</div></div></div></article></template></div><div class=modal-footer><ul class="list-inline me-auto d-none d-md-block"><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4m3 3-3-3 3-3"/></g></svg></kbd><span class=DocSearch-Label>to select</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8m3-3-3 3-3-3"/></g></svg></kbd><kbd class=me-2><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8m3 3-3-3-3 3"/></g></svg></kbd><span class=DocSearch-Label>to navigate</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993.0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016s1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5s-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864.0 1.6425 1.031 1.5443 2.2492h-2.956"/></g></svg></kbd><span class=DocSearch-Label>to close</span></li></ul><p class=d-md-none>Search by <a class=text-decoration-none href=https://github.com/nextapps-de/flexsearch>FlexSearch</a></p></div></div></div></div><div class="wrap container-lg" role=document><div class=content><article><div class="row justify-content-center"><div class="col-md-12 col-lg-10"><div class=blog-header><h1>¡Cuidado con este USB!</h1><p><small>December 5, 2022<span class="stretched-link position-relative reading-time" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1018 0A9 9 0 003 12"/><path d="M12 7v5l3 3"/></svg>4&nbsp;minutes</span></small></p><p style=word-wrap:break-word;overflow-wrap:break-word>Rubber ducky es un pendrive con unas características especiales, a diferencia de un pendrive normal en el que puedes guardar archivos, fotos, etc. El Rubber Ducky, es un dispositivo que inyecta pulsaciones de teclas previamente definidas.</p><div class=col-md-13></div><div class=tag-list-single><a class="btn btn-light" href=/tags/usb/ role=button>USB</a>
<a class="btn btn-light" href=/tags/hak5/ role=button>hak5</a></div></div></div><div class=col-md-13><picture><source type=image/webp srcset="/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_9108191a8ec414a2eb4b628991dba7e6.webp 480w,/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_957efed2f280aac53da9653db7d1f27c.webp 640w,/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_b418a37e3a4ee05621d8f6da73331864.webp 800w,/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_1b9787f5069093647fb038131e682588.webp 1024w,/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_36301a3e1b4dba3426e8b5e9edfcbaa6.webp 1600w" sizes=100vw><source type=image/jpeg srcset="/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_edbcbcb052a9a99396d83353a75ce9f5.jpg 480w,/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_70ad6780579d969a2972f08704f24a60.jpg 640w,/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_167a5cd73b05e7fd24d538ffc1a0e666.jpg 800w,/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_a60ac957d9f030334a43bebc9e96ee14.jpg 1024w,/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_620eeca1aa70961e32f0fe8aa329999d.jpg 1600w" sizes=100vw><img class="img-fluid w-100 lazyload blur-up img-fluid lazyload blur-up img-post-single rounded-5" src=/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_d24207745e5829e87590a50c20855fe4.jpg width=1600 height=900 alt="¡Cuidado con este USB!" data-src=/blog/cuidado-con-este-usb/cover_hu0f1324bb1a4269ff58cd3c8bdce92d09_51667_edbcbcb052a9a99396d83353a75ce9f5.jpg loading=lazy></picture></div><div class="col-md-12 col-lg-9"><h2 id=qué-es-un-usb-rubber-ducky>¿Qué es un USB Rubber Ducky?</h2><p>Rubber ducky es un pendrive con unas características especiales, a diferencia de un pendrive normal en el que puedes guardar archivos, fotos, etc. El Rubber Ducky, es un dispositivo que inyecta pulsaciones de teclas previamente definidas. Fue desarrollado por <a href=https://hak5.org/>hak5</a> y se puede conseguir desde su web actualmente por <a href=https://hak5.org/products/usb-rubber-ducky>$79.99</a>.</p><p>Lo que lo hace tan peligroso es que los antivirus no lo detectan, porque los ordenadores lo interpretan como un teclado.</p><p>El Rubber ducky ha salido en alguna serie como por ejemplo Mr.Robot.</p><p><img alt class="img-fluid lazyload blur-up" data-sizes=auto data-srcset="/blog/cuidado-con-este-usb/images/mrrobot_huf90c1f0cdffc87305506a3982349186f_583866_32bd893382511837ef90ccdd35d77ef9.webp 480w, /blog/cuidado-con-este-usb/images/mrrobot_huf90c1f0cdffc87305506a3982349186f_583866_a9a7ec83ec1a5a630685ebe245d6a22d.webp 640w, /blog/cuidado-con-este-usb/images/mrrobot_huf90c1f0cdffc87305506a3982349186f_583866_20a428f664c4a613317d95b67d49e40b.webp 800w, /blog/cuidado-con-este-usb/images/mrrobot_huf90c1f0cdffc87305506a3982349186f_583866_865427a33832e06d284a882e1ceefca6.webp 1024w" fetchpriority=low height=900 id=h-rh-i-0 src=/blog/cuidado-con-este-usb/images/mrrobot_huf90c1f0cdffc87305506a3982349186f_583866_f644f6830950ebe85a600ad5806850f3.webp width=1600>
(Escena mr.robot)</p><h2 id=como-usarlo>¿Como usarlo?</h2><ol><li>Lo primero es sacar la tarjeta micro sd que hay en su interior y meterla en el adaptador, para conectarlo al
ordenador</li></ol><br><ol start=2><li>Ahora toca crear los scripts para indicarle que es lo que tiene que hacer en cada momento. Para ello se usa el lenguaje de programación Duckyscript</li></ol><h3 id=duckyscript>DuckyScript</h3><p>Es un lenguaje muy sencillo que se puede usar desde cualquier editor de texto.
Además sirve para más dispositivos de hak5 como por ejemplo:</p><table><thead><tr><th style=text-align:center>DuckyScript™ Version</th><th style=text-align:center>Device Compatibility</th></tr></thead><tbody><tr><td style=text-align:center>1.0</td><td style=text-align:center>Original USB Rubber Ducky (USB-A Only)</td></tr><tr><td style=text-align:center>2.x</td><td style=text-align:center>Bash Bunny, Key Croc, Packet Squirrel, LAN turtle, Shark Jack, O.M.G Devices</td></tr><tr><td style=text-align:center>3.0</td><td style=text-align:center>New USB Rubber Ducky (USB-A & USB-C)</td></tr></tbody></table><h4 id=rem-comentarios>REM (Comentarios)</h4><p>Para hacer comentarios se usa <code>REM</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>REM Esto no se va a interpretar
</span></span></code></pre></div><h4 id=delay>DELAY</h4><p>El comando <code>DELAY</code> índica al USB que se pare momentáneamente, esto es útil para scripts que por ejemplo abren una ventana o una aplicación y tiene que esperar a que cargue</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>DELAY <span class=m>1000</span>
</span></span></code></pre></div><h4 id=string>STRING</h4><p><code>STRING</code> sirve para que escriba una frase o palabra, el usb automáticamente aprieta el shift en las mayúsculas y la barra espaciadora para los espacios, pero no interpreta los espacios finales</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>STRING Hello world!
</span></span></code></pre></div><p>Lo que escribirá el RubberDucky</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>Hello world!
</span></span></code></pre></div><h4 id=stringln>STRINGLN</h4><p>Es como el string pero al final hace un enter</p><h4 id=teclas-movimiento>Teclas movimiento</h4><p>Se pueden usar para desplazarse por una ventana o aplicación.</p><ul><li>UP DOWN LEFT RIGHT</li><li>UPARROW DOWNARROW LEFTARROW RIGHTARROW</li><li>PAGEUP PAGEDOWN HOME END</li><li>INSERT DELETE DEL BACKSPACE</li><li>TAB</li><li>SPACE</li></ul><h4 id=teclas-del-sistema>Teclas del sistema</h4><p>Son utilizadas principalmente por el sistema operativo para funciones especiales y pueden usarse para interactuar con áreas de texto y navegar por la interfaz de usuario.</p><ul><li>ENTER</li><li>ESCAPE</li><li>PAUSE BREAK</li><li>PRINTSCREEN</li><li>MENU APP</li><li>F1 F2 F3 F4 F5 F6 F7 F8 F9 F0 F11 F12</li></ul><h4 id=teclas-de--modificación>Teclas de modificación</h4><h5 id=básicas>Básicas</h5><p>Son teclas que se combinan con otra tecla para realizar una función especial</p><ul><li>SHIFT</li><li>ALT</li><li>CONTROL CTRL</li><li>COMMAND</li><li>WINDOWS GUI</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>REM Ejemplo de teclas de modificación
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>REM Windows Run
</span></span><span class=line><span class=cl>GUI r
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>REM Cerrar Ventana
</span></span><span class=line><span class=cl>ALT F4
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>REM Pegar
</span></span><span class=line><span class=cl>CTRL c
</span></span></code></pre></div><h5 id=avanzadas>Avanzadas</h5><p>Se pueden combinar entre ellas</p><ul><li>CTRL SHIFT</li><li>ALT SHIFT</li><li>COMMAND CTRL</li><li>COMMAND CTRL SHIFT</li><li>COMMAND OPTION</li><li>COMMAND OPTION SHIFT</li><li>CONTROL ALT DELETE</li></ul><h5 id=independientes>Independientes</h5><p>Para pulsar una tecla modificadora sola se tiene que poner antes <code>INJECT_MOD</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>REM Ejemplo presionando la tecla de Windows sola
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>INJECT_MOD
</span></span><span class=line><span class=cl>WINDOWS
</span></span></code></pre></div><h4 id=teclas-de-bloqueo>Teclas de Bloqueo</h4><p>Las teclas de bloqueo alternan entre activado y desactivado</p><ul><li>CAPSLOCK</li><li>NUMLOCK</li><li>SCROLLOCK</li></ul><h4 id=botón>Botón</h4><p>Dentro del Rubber Ducky hay un pequeño botón el cual se puede combinar con los scripts, por defecto, al pulsarlo reinicia el script que tiene cargado, pero se puede modificar su función:</p><h5 id=wait_for_button_press>WAIT_FOR_BUTTON_PRESS</h5><p>Sirve para pausar el script hasta que se presione el botón</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>REM Ejemplo uso de WAIT_FOR_BUTTON_PRESS
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>STRING Hello World!
</span></span><span class=line><span class=cl>WAIT_FOR_BUTTON_PRESS
</span></span><span class=line><span class=cl>STRING Has presionado el botón...
</span></span></code></pre></div><h5 id=button_def>BUTTON_DEF</h5><p>Define una función que se ejecutará cuando se presione el botón en cualquier momento dentro del script, siempre que el botón no esté ya en uso por el comando <code>WAIT_FOR_BUTTON_PRESS</code> u otra función similar.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>BUTTON_DEF
</span></span><span class=line><span class=cl>    STRING Has presionado el botón.
</span></span><span class=line><span class=cl>END_BUTTON
</span></span></code></pre></div><h5 id=disable_button-y-enable_button>DISABLE_BUTTON y ENABLE_BUTTON</h5><p>Como su propio nombre indica, sirve para desactivar y activar el botón.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>DISABLE_BUTTON
</span></span><span class=line><span class=cl>REM Botón desactivado
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ENABLE_BUTTON
</span></span><span class=line><span class=cl>REM Botón activado
</span></span></code></pre></div><h4 id=led>LED</h4><p>El Ruber Ducky En su interior tiene un pequeño LED el cual se puede controlar en los scripts</p><h5 id=led_off>LED_OFF</h5><p>Apaga el led</p><h5 id=led_r>LED_R</h5><p>Pondrá el led rojo</p><h5 id=led_g>LED_G</h5><p>Pondrá el led verde</p><h3 id=dónde-programarlo>¿Dónde Programarlo?</h3><p>En el apartado de <a href=https://downloads.hak5.org/ducky>soporte del RubberDucky</a> se puede descargar un JSEncoder, es un archivo con extension <code>.html</code>. En linux se abre con <code>firefox jsencoder.html</code> y en windows: click derecho, abrir con, navegador</p><p><img alt class="img-fluid lazyload blur-up" data-sizes=auto data-srcset="/blog/cuidado-con-este-usb/images/jsencoder_huee88f63a96560996145a6229ed7deb40_43945_7c979995db6a1ca07f400dee96efafb0.webp 480w, /blog/cuidado-con-este-usb/images/jsencoder_huee88f63a96560996145a6229ed7deb40_43945_6a2a738fe1bc3a779848d6f02f28b60b.webp 640w, /blog/cuidado-con-este-usb/images/jsencoder_huee88f63a96560996145a6229ed7deb40_43945_341e439870046f021fb0087ebce40743.webp 800w, /blog/cuidado-con-este-usb/images/jsencoder_huee88f63a96560996145a6229ed7deb40_43945_21740f589c37cfc5565d7f11fe80493e.webp 1024w" fetchpriority=low height=900 id=h-rh-i-1 src=/blog/cuidado-con-este-usb/images/jsencoder_huee88f63a96560996145a6229ed7deb40_43945_e81789414d8e763d6278c41b21e9c879.webp width=1600></p><h3 id=cambiar-idioma-de-los-scripts>Cambiar idioma de los scripts</h3><p>El Rubber Ducky tiene la distribución de teclado inglés por defecto, para poder cambiarlo hay que descargar el idioma deseado desde <a href=https://github.com/hak5/usbrubberducky-payloads/tree/master/languages>https://github.com/hak5/usbrubberducky-payloads/tree/master/languages</a> para después ponerlo en el jsencoder</p><p><img alt class="img-fluid lazyload blur-up" data-sizes=auto data-srcset="/blog/cuidado-con-este-usb/images/language_hub94f33e8b01a6495cd9a22d6abbd31e0_28038_8efe368bd3bf106b2c6010f2ab7bd67e.webp 480w, /blog/cuidado-con-este-usb/images/language_hub94f33e8b01a6495cd9a22d6abbd31e0_28038_19499999e246fadf8af76ffd3290b7a4.webp 640w, /blog/cuidado-con-este-usb/images/language_hub94f33e8b01a6495cd9a22d6abbd31e0_28038_864e371b0732d1a61eb9a3c4a9c69c81.webp 800w, /blog/cuidado-con-este-usb/images/language_hub94f33e8b01a6495cd9a22d6abbd31e0_28038_3318390f37b43e32b8319a6e3661f4f5.webp 1024w" fetchpriority=low height=900 id=h-rh-i-2 src=/blog/cuidado-con-este-usb/images/language_hub94f33e8b01a6495cd9a22d6abbd31e0_28038_f6de31cf91aef690e6adbd7d2d07f618.webp width=1600></p><h3 id=primer-hola-mundo>Primer hola mundo</h3><p>Para que el Rubber Ducky haga un hola mundo, hay que poner en el jsencoder lo sieguiente:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>DELAY <span class=m>200</span>
</span></span><span class=line><span class=cl>STRING Hola Mundo!!!
</span></span></code></pre></div><p><img alt class="img-fluid lazyload blur-up" data-sizes=auto data-srcset="/blog/cuidado-con-este-usb/images/helloworld_hu1d455a84d21550103ce3a21df0e45f85_14759_9c588bdbb5ab31fe293dbaebdf1393d2.webp 480w, /blog/cuidado-con-este-usb/images/helloworld_hu1d455a84d21550103ce3a21df0e45f85_14759_89ff7d79f80b9d5434f13df0725e95df.webp 640w, /blog/cuidado-con-este-usb/images/helloworld_hu1d455a84d21550103ce3a21df0e45f85_14759_364124a88b273a189d5d5820217c2b51.webp 800w, /blog/cuidado-con-este-usb/images/helloworld_hu1d455a84d21550103ce3a21df0e45f85_14759_cfb11da721219a671c72008b8420020b.webp 1024w" fetchpriority=low height=1600 id=h-rh-i-3 src=/blog/cuidado-con-este-usb/images/helloworld_hu1d455a84d21550103ce3a21df0e45f85_14759_8be33733b528c5c2d69b49337389be80.webp width=900></p><p>Ahora solo hace falta clicar a generate payload y se descargará un archivo llamado inject.bin, el cual se tiene que poner en la tarjeta micro sd (solo puede haber un inject.bin, (borra los antiguos).</p><h2 id=como-protegerse>Como protegerse</h2><p>Lo primero y más obvio es no dejarte ordenadores, móviles, impresoras, etc&mldr; desbloqueados.</p><p>Existe un programa para windows que se queda corriendo en segundo plano y te protege de el Rubber ducky y dispositivos similares. No lo e probado pero por lo que e visto por internet, cuando detecta el RubberDucky lo para, bloquea el ordenador y guarda todas las pulsaciones de teclado del RubberDucky para ver las intenciones del atacante</p><p>https://lospi.net/beamgun/</p></div></div></article></div></div><div class=bg-light><section class="section section-related container"><div class="row justify-content-center"><div class="col-md-12 col-lg-9"><h2 class="section-title text-center">Related posts</h2></div></div><div class="row justify-content-center"><div class=col-lg-9><div class=card><div class=card-body><article><h2 class=h3><a class="stretched-link text-body" href=/blog/reverse-shell-con-el-usb-rubberducky/>Reverse shell con el USB RubberDucky</a></h2><p>Vamos a estar preparando el USB Ruber Ducky con un payload el cual no permitirá mandarnos una reverse shell desde una máquina Windows con el Windows defender activad</p><p><small>February 5, 2023<span class="stretched-link position-relative reading-time" title="Estimated reading time"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1018 0A9 9 0 003 12"/><path d="M12 7v5l3 3"/></svg>2&nbsp;minutes</span></small></p></article></div></div></div></div></section></div><footer class="footer text-muted"><div class=container-lg><div class=row><div class="col-lg-8 text-center text-lg-start"><ul class=list-inline><li class=list-inline-item><a class=text-muted href=/tags/>Tags</a></li></ul></div><div class="col-lg-8 text-center text-lg-end"><ul class=list-inline><li class=list-inline-item>Brought to you by <a class=text-muted href=https://gethyas.com/>Hyas</a></li></ul></div></div></div></footer><script async src=/js/app.1e84dcdaa5ccef6fe83f6d88ac1e444a1f237111cfa2a7a97427f758e9c27ef4.js integrity="sha256-HoTc2qXM72/oP22IrB5ESh8jcRHPoqepdCf3WOnCfvQ="></script><script async src=/js/flexsearch.78e4b7a9456a2770bd6faffb1f6488b30db12ca157c3df4e89e3ae2e258888ae.js integrity="sha256-eOS3qUVqJ3C9b6/7H2SIsw2xLKFXw99OieOuLiWIiK4="></script><script async src=/js/search-modal.c4c023efcdee308e4b5f1110afe1db6b1656f217e67aa7efe54e2f4bf2feccf8.js integrity="sha256-xMAj783uMI5LXxEQr+HbaxZW8hfmeqfv5U4vS/L+zPg="></script><div class="d-inline-flex fixed-bottom-right pb-4 pe-4"><button id=toTop type=button class="btn btn-primary rounded-circle ms-auto p-2"><span class=visually-hidden>Top</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 15l6-6 6 6"/></svg></button></div><script src=/js/main.js></script></body></html>